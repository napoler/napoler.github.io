---
layout: post
title: "framework7 vue With Messagebar实例"
permalink: '/2017/09/framework7-vue-with-messagebar.html'
comments: 1
categories: Default
tags: framework7 vue vue framework7
---
<span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;<span class="hljs-title">template</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'> </span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;<span class="hljs-title">f7-messages</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'> </span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;<span class="hljs-title">f7-message</span> <span class="hljs-attribute" style="color: teal;">v-for</span>=<span class="hljs-value" style="color: #dd1144;">"message in messages"</span> <span class="hljs-attribute" style="color: teal;">:text</span>=<span class="hljs-value" style="color: #dd1144;">"message.text"</span> <span class="hljs-attribute" style="color: teal;">:label</span>=<span class="hljs-value" style="color: #dd1144;">"message.label"</span> <span class="hljs-attribute" style="color: teal;">:date</span>=<span class="hljs-value" style="color: #dd1144;">"message.date"</span> <span class="hljs-attribute" style="color: teal;">:name</span>=<span class="hljs-value" style="color: #dd1144;">"message.name"</span> <span class="hljs-attribute" style="color: teal;">:avatar</span>=<span class="hljs-value" style="color: #dd1144;">"message.avatar"</span> <span class="hljs-attribute" style="color: teal;">:type</span>=<span class="hljs-value" style="color: #dd1144;">"message.type"</span> <span class="hljs-attribute" style="color: teal;">:day</span>=<span class="hljs-value" style="color: #dd1144;">"message.day"</span> <span class="hljs-attribute" style="color: teal;">:time</span>=<span class="hljs-value" style="color: #dd1144;">"message.time"</span>      @<span class="hljs-attribute" style="color: teal;">click</span>=<span class="hljs-value" style="color: #dd1144;">"onClick"</span>      @<span class="hljs-attribute" style="color: teal;">click:text</span>=<span class="hljs-value" style="color: #dd1144;">"onTextClick"</span>      @<span class="hljs-attribute" style="color: teal;">click:name</span>=<span class="hljs-value" style="color: #dd1144;">"onNameClick"</span>      @<span class="hljs-attribute" style="color: teal;">click:avatar</span>=<span class="hljs-value" style="color: #dd1144;">"onAvatarClick"</span>    &gt;</span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;/<span class="hljs-title">f7-message</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'> </span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;/<span class="hljs-title">f7-messages</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'> </span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;<span class="hljs-title">f7-messagebar</span> <span class="hljs-attribute" style="color: teal;">placeholder</span>=<span class="hljs-value" style="color: #dd1144;">"Message"</span> <span class="hljs-attribute" style="color: teal;">send-link</span>=<span class="hljs-value" style="color: #dd1144;">"Send"</span> @<span class="hljs-attribute" style="color: teal;">submit</span>=<span class="hljs-value" style="color: #dd1144;">"onSubmit"</span>&gt;</span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;/<span class="hljs-title">f7-messagebar</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'></span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;/<span class="hljs-title">template</span>&gt;</span><span style='background-color: #fafafa; color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'></span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript" style='color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; opacity: 1; white-space: pre-wrap;'>  export <span class="hljs-keyword" style="font-weight: bold;">default</span> {     data: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">()</span> {</span> <span class="hljs-keyword" style="font-weight: bold;">return</span> {         name: <span class="hljs-string" style="color: #dd1144;">'Vladimir'</span>,         avatar: <span class="hljs-string" style="color: #dd1144;">'path/to/avatar-1.jpg'</span>,         messages: \[           {             day: <span class="hljs-string" style="color: #dd1144;">'Wendesday'</span>,             time: <span class="hljs-string" style="color: #dd1144;">'13:34'</span>          },           {             name: <span class="hljs-string" style="color: #dd1144;">'Vladimir'</span>,             text: <span class="hljs-string" style="color: #dd1144;">'How are you?'</span>,             label: <span class="hljs-string" style="color: #dd1144;">'Sent in good mood :)'</span>,             avatar: <span class="hljs-string" style="color: #dd1144;">'path/to/avatar-1.jpg'</span>,             date: <span class="hljs-string" style="color: #dd1144;">'Yesterday 13:34'</span>          },           {             name: <span class="hljs-string" style="color: #dd1144;">'Jane'</span>,             text: <span class="hljs-string" style="color: #dd1144;">'I\\'m good, thank you!'</span>,             type: <span class="hljs-string" style="color: #dd1144;">'received'</span>,             avatar: <span class="hljs-string" style="color: #dd1144;">'path/to/avatar-2.jpg'</span>,             date: <span class="hljs-string" style="color: #dd1144;">'Yesterday at 13:50'</span>          }         \]       }     },     methods: {       onClick: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">(event)</span> {</span>        console.log(<span class="hljs-string" style="color: #dd1144;">'message click'</span>);       },       onAvatarClick: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">()</span> {</span>        console.log(<span class="hljs-string" style="color: #dd1144;">'avatar-click'</span>);       },       onTextClick: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">()</span> {</span>        console.log(<span class="hljs-string" style="color: #dd1144;">'text-click'</span>);       },       onNameClick: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">()</span> {</span>        console.log(<span class="hljs-string" style="color: #dd1144;">'name-click'</span>);       },</span>  
<span class="javascript" style='color: #333333; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; opacity: 1; white-space: pre-wrap;'>//提交时候获取内容并清空text.trim()内容       onSubmit: <span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">(text, clear)</span> {</span> <span class="hljs-keyword" style="font-weight: bold;">if</span> (text.trim().length === <span class="hljs-number" style="color: #009999;">0</span>) <span class="hljs-keyword" style="font-weight: bold;">return</span>;         <span class="hljs-keyword" style="font-weight: bold;">this</span>.messages.push({           name: <span class="hljs-keyword" style="font-weight: bold;">this</span>.name,           avatar: <span class="hljs-keyword" style="font-weight: bold;">this</span>.avatar,           text: text,           date: (<span class="hljs-function"><span class="hljs-keyword" style="font-weight: bold;">function</span> <span class="hljs-params">()</span> {</span> <span class="hljs-keyword" style="font-weight: bold;">var</span> now = <span class="hljs-keyword" style="font-weight: bold;">new</span> <span class="hljs-built_in" style="color: #0086b3; font-weight: bold;">Date</span>();             <span class="hljs-keyword" style="font-weight: bold;">var</span> hours = now.getHours();             <span class="hljs-keyword" style="font-weight: bold;">var</span> minutes = now.getMinutes();             <span class="hljs-keyword" style="font-weight: bold;">return</span> hours + <span class="hljs-string" style="color: #dd1144;">':'</span> + minutes;           })()         });         <span class="hljs-comment" style="color: #999988; font-style: italic;">// Clear Message Bar</span>        clear();       }     }   } </span><span class="hljs-tag" style='color: navy; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px; white-space: pre-wrap;'>&lt;/<span class="hljs-title">script</span>&gt;</span>